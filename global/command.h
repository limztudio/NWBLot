// limztudio@gmail.com
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


#pragma once


#include "global.h"


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


NWB_BEGIN


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


enum class ArgCommand : u8{
    LogAddress,
    LogPort,

    iNumArg,
};
constexpr const char* g_argCmd[] = {
    "-la,--logaddress",
    "-lp,--logport",
};
const Tuple<
    std::string
    , u16
> g_argDefault = {
    "http://localhost",
    static_cast<u16>(7117),
};
constexpr const char* g_argDesc[] = {
    "Log server address",
    "Log server port",
};

template <ArgCommand i, typename CLI, typename T>
inline auto argAddOption(CLI& cli, T& arg){
    return cli.add_option(g_argCmd[static_cast<usize>(i)], arg, g_argDesc[static_cast<usize>(i)])->default_val(std::get<static_cast<usize>(i)>(g_argDefault));
}


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


NWB_END


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

