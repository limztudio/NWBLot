// limztudio@gmail.com
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


#pragma once


#include <core/global.h>

#include <core/common/common.h>
#include <core/ecs/ecs.h>
#include <core/graphics/graphics.h>


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


NWB_CORE_BEGIN


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


class Frame{
public:
    Frame(void* inst, u16 width, u16 height);
    ~Frame();


public:
    bool init();
    bool showFrame();
    bool mainLoop();

public:
    template<typename T>
    inline T& data(){ return static_cast<T&>(m_data); }

public:
    bool startup();
    void cleanup();
    bool update(float delta);
    bool render();

public:
    inline ECS::World& world(){ return m_world; }
    inline const ECS::World& world()const{ return m_world; }


private:
    Common::FrameData m_data;
    BasicString<tchar> m_appliedWindowTitle;

private:
    ECS::World m_world;
    Graphics m_graphics;
};


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


NWB_CORE_END


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

