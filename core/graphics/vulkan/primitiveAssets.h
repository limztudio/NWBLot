// limztudio@gmail.com
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


#pragma once

#include "../common.h"
#include "config.h"
#include "resources.h"

#include <core/alloc/assetPool.h>

#include "vk_mem_alloc.h"


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


NWB_CORE_BEGIN


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


struct Buffer{
    VkBuffer buffer;
    VmaAllocation allocation;
    VkDeviceMemory deviceMemory;
    VkDeviceSize deviceSize;

    VkBufferUsageFlags typeFlags = 0;
    ResourceUsageType::Enum usage = ResourceUsageType::IMMUTABLE;
    u32 size = 0;
    u32 globalOffset = 0;

    Alloc::AssetHandle handle;
    Alloc::AssetHandle presentHandle;

    const char* name = nullptr;
};


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


NWB_CORE_END


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

