// limztudio@gmail.com
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


#include <global.h>

#include "server.h"


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


static NWB_INLINE int entry_point(isize argc, tchar** argv){
    std::string address = g_defaultURL;
    if(argc > 1)
        convert(static_cast<const tchar*>(argv[1]), address);

    NWB::Log::Server server;

    if(!server.init())
        return -1;

    return 0;
}


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


#ifdef NWB_PLATFORM_WINDOWS
#ifdef NWB_UNICODE
int wmain(int argc, wchar_t* argv[]){
    return entry_point(argc, argv);
}
#else
int main(int argc, char* argv[]){
    return entry_point(argc, argv);
}
#endif
#endif


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

