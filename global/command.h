// limztudio@gmail.com
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


#pragma once


#include "global.h"


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


NWB_BEGIN


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


enum class ArgCommand : u8{
    LogAddress,
    LogPort,

    iNumArg,
};
constexpr const char* g_ArgCmd[] = {
    "-a,--logaddress",
    "-p,--logport",
};
const Tuple<
    std::string
    , u16
> g_ArgDefault = {
    "http://localhost",
    static_cast<u16>(7117),
};
constexpr const char* g_ArgDesc[] = {
    "Log server address",
    "Log server port",
};

template<ArgCommand i, typename CLI, typename T>
inline auto ArgAddOption(CLI& cli, T& arg){
    return cli.add_option(g_ArgCmd[static_cast<usize>(i)], arg, g_ArgDesc[static_cast<usize>(i)])->default_val(Get<static_cast<usize>(i)>(g_ArgDefault));
}


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


NWB_END


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

